# Intmax2 

## Usage

The general syntax for using the CLI tool is:

```
intmax2-cli <COMMAND> [OPTIONS]
```

## Examples

You can replace private keys with what you generated by `cargo run -r -- generate-key`.

1. Make a deposit:
   
   a. Native token
   ```
   cargo run -r --  deposit --eth-private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c --token-type NATIVE --amount 100000000
   ```

   b. Erc20 token 
   ```
   cargo run -r --  deposit --eth-private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c --token-type ERC20 --amount 20000000 --token-address 0x0165878a594ca255338adfa4d48449f69242eb8f
   ```

   c. Erc721 token 
   ```
   cargo run -r --  deposit --eth-private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c --token-type ERC721 --token-address 0xa513e6e4b8f2a923d98304ec87f64353c4d5c853 --token-id 0
   ```

   d. Erc1155 token
   ```
   cargo run -r --  deposit --eth-private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c --token-type ERC1155 --amount 3 --token-address 0x2279b7a0a67db372996a5fab50d91eaa73d2ebe6 --token-id 0
   ```

2. Check your balance:
   ```
   cargo run -r -- balance --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c
   ```
   Note: you may get pending actions error. Please retry it in such case. 
3. Send a transaction:
   ```
   cargo run -r -- tx --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c --to 0x2cba397f839b10e62cce4ef49dcea6edac416fa1b97e24405ca3e1a5313dce1b --amount 1 --token-index 0 
   ```

4. Check receiver's balance:
   ```
   cargo run -r -- balance --private-key 0x0c8790b509975a7fa4a0ebf2dfbd75e7eea2b44789a48cac629567bbaf680646
   ```
   Note: you may get pending actions error. Please retry it in such case. 

5. Send a withdrawal transaction: 
   ```
   cargo run -r -- tx --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c --to 0xB5056A1f0b7519D7265Ad6f58126A526584b1d63 --amount 2 --token-index 0 
   ```
6. Sync withdrawals: 
   ```
   cargo run -r -- sync-withdrawals --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c
   ```
7. Check withdrawal status: 
   ```
   cargo run -r -- withdrawal-status --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c
   ```

8. Claim withdrawal status (if there are claimable withdrawals): 
   ```
   cargo run -r -- claim-withdrawals --eth-private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80ã€€--private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c
   ```

9. Check history: 
   ```
   cargo run -r -- history --private-key 0x186aab4d91978e03f84890147e0e4bc114c8188588deb2c58bd877f5911ad78c
   ```